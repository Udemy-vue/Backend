<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lodin</title>
</head>
<body>
	<form action="" id="form">
		<input type="text" id="a">
		<input type="text" id="b">

		<button type="submit">boton</button>
		<h2>Token: </h2>
		<h2 id="c" style="width: 5rem"></h2>
		<h2>ExpiresIn: </h2>
		<h2 id="d"></h2>
	</form>


	<script>
		const form = document.getElementById("form");

		const dato = document.getElementById("c");
		const ex = document.getElementById("d");
		const password = "123123";
		const email = "deus@test.com";

		form.addEventListener("submit", async (e) => {
			e.preventDefault();
			// console.log('holamundo')
			try {
				// console.log('Email:', email, 'Password:', password);
				console.log(password);
				console.log(email);

				const res = await fetch('/api/login', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({ 
						email: email, 
						password: password
				  })
				});
				// console.log('hola mundo')
				console.log(res.ok, res.status);

				const data = await res.json();

				// dato.textContent = data.token;
				// ex.textContent = data.expiresIn;
			} catch(e) {
				// statements
				console.log(e);
			}
		});
	</script>
</body>
</html>